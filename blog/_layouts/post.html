---
layout: default
---
<div class="post">

  <header>
      <div class="page-header">
          <h1>{{ page.title }}</h1>
          <small>{{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %} • <a href="{{ page.url | append: '#disqus_thread' }}">Comments</a></small>
      </div>
  </header>

  <article>
  {{ content }}
  </article>
    
    <footer>
        {% if page.series %}
        
        {% assign sawSelf = false %}
        {% assign takeNext = false %}
        {% assign siblings = site.posts | sort 'date' | sort 'seriesIndex' %}
        {% for sibling in siblings %}
            {% if sibling.series == page.series %}
                {% if takeNext %}
                    {% assign nextSibling = sibling %}
                    {% assign takeNext = false %}
                {% endif %}
                {% if sibling.id == page.id %}
                    {% assign sawSelf = true %}
                    {% assign takeNext = true %}
                {% endif %}
                {% unless sawSelf %}
                    {% assign previousSibling = sibling %}
                {% endunless %}
            {% endif %}
        {% endfor %}
        
        <ul class="pager">
            {% if previousSibling %}<li class="previous"><a href="{{ previousSibling.url }}">&larr; Previous in {{ page.series }}</a></li>{% endif %}
            {% if nextSibling %}<li class="next"><a href="{{ nextSibling.url }}">Next in {{ page.series }} &rarr;</a></li>{% endif %}
        </ul>
        {% endif %}

        <ul class="pager">
            {% if page.previous %}<li class="previous"><a href="{{ page.previous.url }}">&larr; Previous Post</a></li>{% endif %}
            {% if page.next %}<li class="next"><a href="{{ page.next.url }}">Next Post &rarr;</a></li>{% endif %}
        </ul>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_loaded = false;
            $('.pager').waypoint({
                offset: 'bottom-in-view',
                handler: function () {
                    console.log("Loading...");
                    if (disqus_loaded)
                        return;
                    disqus_loaded = true;
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//stephencleary.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                }
            });
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
</div>