<!DOCTYPE html>
<html>
﻿<head>
    <meta charset="utf-8"/>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Q&A: Should I Set Variables to Null to Assist Garbage Collection?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="This is a common question with rather complex reasoning behind the answer." />
    <link rel="canonical" href="http://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html" />
    
    <link rel="alternate" type="application/rss+xml" title="Stephen Cleary (the blog)" href="http://feeds.feedburner.com/NitoPrograms" />
    
    <link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.2.0/spacelab/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
    <style type="text/css">/* Layout Styles */
/* ----------------------------------------------------------*/

body {
    padding-top: 50px;
}

.affix {
    top: 70px;
    bottom: 0;
    overflow-y: auto;
}

.navbar-brand {
    font-weight: bold;
}

.navbar-brand-container.active>a, .navbar-brand-container.active>a:hover, .navbar-brand-container.active>a:focus {
    color: #3399f3;
    background-color: transparent;
}

.sidebar {
    margin-top: 20px;
}

.sidenavitem {
    height: auto;
}

.sidebar img {
    /* Responsive images */
    display: inline-block;
    height: auto;
    max-width: 100%;
}

@media(max-width:767px) {
    .affix {
        position: static;
    }
}

div .vertical-margins {
    margin-top: 10px;
    margin-bottom: 10px;
}

.page-header {
    margin-top: 20px;
}

.center {
    text-align: center;
}

.project-icon {
    height: 128px;
    width: 128px;
}

.list-group-item h2 {
    margin-top: 10px;
}

/* Fixes for Google Custom Search in a Bootstrap page */
/* ----------------------------------------------------------*/
.google, .google *, .google *:before, .google *:after {
    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}

.google table {
    border-collapse: separate;
}

.gsc-input-box {
    height: auto !important;
}

/* Fixes for Amazon widget in Bootstrap page */
.amzn_wdgt * {
    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}

/* Post styles */
/* ----------------------------------------------------------*/

code {
    background-color: #F2F3F9;
    color: inherit;
}

.post img {
    /* Responsive images */
    display: inline-block;
    height: auto;
    max-width: 100%;
}

.post .table {
    table-layout: fixed;
}

.post .table code {
    white-space: normal;
}

.post .yes {
    color: #008000;
}

.post .no {
    color: #FF0000;
}

/* Syntax highlighting styles */
/* ----------------------------------------------------------*/

.highlight  { background: #ffffff; }
.highlight .c { color: #008000 } /* Comment */
.highlight .k { color: #0000ff } /* Keyword */
.highlight .cm { color: #008000 } /* Comment.Multiline */
.highlight .cp { color: #0000ff } /* Comment.Preproc */
.highlight .c1 { color: #008000 } /* Comment.Single */
.highlight .cs { color: #008000 } /* Comment.Special */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gh { font-weight: bold } /* Generic.Heading */
.highlight .gp { font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { font-weight: bold } /* Generic.Subheading */
.highlight .kc { color: #0000ff } /* Keyword.Constant */
.highlight .kd { color: #0000ff } /* Keyword.Declaration */
.highlight .kn { color: #0000ff } /* Keyword.Namespace */
.highlight .kp { color: #0000ff } /* Keyword.Pseudo */
.highlight .kr { color: #0000ff } /* Keyword.Reserved */
.highlight .kt { color: #2b91af } /* Keyword.Type */
.highlight .s { color: #a31515 } /* Literal.String */
.highlight .nc { color: #2b91af } /* Name.Class */
.highlight .ow { color: #0000ff } /* Operator.Word */
.highlight .sb { color: #a31515 } /* Literal.String.Backtick */
.highlight .sc { color: #a31515 } /* Literal.String.Char */
.highlight .sd { color: #a31515 } /* Literal.String.Doc */
.highlight .s2 { color: #a31515 } /* Literal.String.Double */
.highlight .se { color: #a31515 } /* Literal.String.Escape */
.highlight .sh { color: #a31515 } /* Literal.String.Heredoc */
.highlight .si { color: #a31515 } /* Literal.String.Interpol */
.highlight .sx { color: #a31515 } /* Literal.String.Other */
.highlight .sr { color: #a31515 } /* Literal.String.Regex */
.highlight .s1 { color: #a31515 } /* Literal.String.Single */
.highlight .ss { color: #a31515 } /* Literal.String.Symbol */
</style>
    
    <meta name="application-name" content="Stephen Cleary" />
    <link rel="search" type="application/opensearchdescription+xml" href="http://stephencleary.com/opensearch.xml" title="Cleary Search">
    <link rel="apple-touch-icon" sizes="57x57" href="http://stephencleary.com/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://stephencleary.com/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://stephencleary.com/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="http://stephencleary.com/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="http://stephencleary.com/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="http://stephencleary.com/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="http://stephencleary.com/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="http://stephencleary.com/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" href="http://stephencleary.com/icons/apple-touch-icon.png"/>
    <link rel="apple-touch-icon-precomposed" href="http://stephencleary.com/icons/apple-touch-icon-precomposed.png"/>
    <link rel="icon" type="image/png" href="http://stephencleary.com/icons/favicon-196x196.png" sizes="196x196">
    <link rel="icon" type="image/png" href="http://stephencleary.com/icons/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="http://stephencleary.com/icons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="http://stephencleary.com/icons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="http://stephencleary.com/icons/favicon-32x32.png" sizes="32x32">
    
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand-container"><a class="navbar-brand" href="http://stephencleary.com">Stephen Cleary</a></div>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li  class="active"  ><a href="http://blog.stephencleary.com">Blog</a></li>
            <li  ><a href="http://stephencleary.com/projects/">Projects</a></li>
            <li  ><a href="http://stephencleary.com/publications/">Publications</a></li>
            <li  ><a href="http://stephencleary.com/book/">Book</a></li>
            <li  ><a href="http://stephencleary.com/contact/">Contact</a></li>
            <li><a href="http://feeds.feedburner.com/NitoPrograms"><i class="fa fa-rss-square fa-lg"></i></a></li>
            <li  ><a href="http://stephencleary.com/search/"><i class="fa fa-search"></i></a></li>
        </ul>
    </div>
</nav>

    <div class="container-fluid">
        <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
            <div class="post">

  <header>
      <div class="page-header">
          <h1>Q&A: Should I Set Variables to Null to Assist Garbage Collection?</h1>
          <small><time datetime="2010-02-17">Feb 17, 2010</time> &bull; <a data-disqus-identifier="/2010/02/q-should-i-set-variables-to-null-to" href="#disqus_thread">Comments</a></small>
      </div>
  </header>

  <article>
  <p>This is a common question with rather complex reasoning behind the answer.</p>

<p>First off, setting a variable to null <em>to assist garbage collection</em> is different than setting a variable to null <em>to indicate state</em>. It’s always proper to use “null” as a state indicator (e.g., the <a href="/2009/04/asynchronous-callback-contexts.html">CallbackContext</a> class has a field which is set to null to indicate the context is invalid).</p>

<p>Secondly, the “variable” being set to null may be either a <em>field</em> (possibly via a property) or a <em>local variable</em>. Local variables include <em>method parameters</em>. A field may be a <em>static field</em> or an <em>instance field</em>.</p>

<p>This blog entry is only concerned with the question “Should I set variables <em>to null to assist garbage collection?”</em> and will consider each type of “variable”.</p>

<h2 id="the-short-answer-for-the-impatient">The Short Answer, for the Impatient</h2>

<p>Yes, if the variable is a static field, or if you are writing an enumerable method (using <strong>yield return</strong>) or an asynchronous method (using <strong>async</strong> and <strong>await</strong>). Otherwise, no.</p>

<p>This means that in regular methods (non-enumerable and non-asynchronous), you do not set local variables, method parameters, or instance fields to null.</p>

<p>(<em>Even if you’re implementing IDisposable.Dispose</em>, you <em>still</em> should not set variables to null).</p>

<h2 id="the-longer-answer">The Longer Answer</h2>

<ul>
  <li>Static fields should be set to null when they are no longer needed - unless the process is shutting down, in which case setting static fields to null is unnecessary.</li>
  <li>
    <p>Local variables hardly ever need to be set to null. There is only one exception:</p>
  </li>
  <li>
    <p>It <em>may</em> be beneficial to set local variables to null if running on a non-Microsoft CLR.</p>
  </li>
  <li>
    <p>Instance fields hardly ever need to be set to null. There is only one exception:</p>
  </li>
  <li>An instance field may be set to null if the referencing object is expected to outlive the referenced object.</li>
  <li>[Note that the semi-common practice of setting instance fields to null in IDisposable.Dispose does <em>not</em> meet this test, and should not be encouraged].</li>
</ul>

<p>There is a special consideration for enumerable and asynchronous methods. When compiling these methods, the compiler transforms the method into its own object. As a result, all local variables (including method parameters) are actually instance fields. If the “method object” is expected to outlive any of the objects referred to by those variables, then they <em>should</em> be set to null.</p>

<p>In conclusion: generally speaking, setting variables to null to help the garbage collector is not recommended. If it is deemed necessary, then an unusual condition exists and it should be carefully documented in the code.</p>

<p>The rest of this post deals with the reasoning behind this recommendation.</p>

<h2 id="required-reading">Required Reading</h2>

<p>Most of this post relies heavily on Jeffrey Richter’s awesome book <a href="http://www.amazon.com/gp/product/0735627045?ie=UTF8&amp;tag=stepheclearys-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0735627045">CLR via C#</a>. Unfortunately, even though the 3rd edition is out, I only have the 2nd; so all page numbers in this blog post are for the 2nd edition. The section “The Garbage Collection Algorithm” (pg 461) covers GC in general, and the section “Garbage Collections and Debugging” (pg 465) is particularly useful when considering this question.</p>

<h2 id="determining-root-objects">Determining Root Objects</h2>

<p>The garbage collector is based on a “mark and sweep” design, starting from a set of root objects and walking any nested references to determine which objects are still in use. Any objects not marked are declared unused and become eligible for garbage collection [this is a simplification, but it’s the general idea]. Logically, all the marked objects form a “graph” of live objects.</p>

<p>The idea behind “setting variables to null” is that it would help the garbage collector to detect that the referenced object is no longer used. Before we can determine if this truly is helpful or not, we must first determine what constitutes a “root object”.</p>

<p>First: any static field is a root object. That’s the easy part (we’ll handle static fields in more detail later).</p>

<p>Instance fields are used to build the graph of referenced objects, so it’s possible that setting an instance field to null may “trim” objects from the graph (we’ll handle instance fields in more detail later, too).</p>

<p>Method-local variables (including parameters and the implicit “this” reference) are much tricker: they are <em>sometimes</em> root objects.</p>

<p>As described in <a href="http://www.amazon.com/gp/product/0735627045?ie=UTF8&amp;tag=stepheclearys-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0735627045">CLR via C#</a>, the JIT compiler for a method will determine which native code blocks reference which variables by building a “root table” for the method. It’s important to note that this table is quite accurate (though not 100% accurate - it <em>may</em> “hold onto” references slightly longer than necessary if it simplifies the table). Examine the simple code below:</p>

<div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">static</span> <span class="kt">object</span> <span class="nf">CheckType</span><span class="p">(</span><span class="kt">object</span> <span class="n">a</span><span class="p">,</span> <span class="n">Type</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Type</span> <span class="n">t</span> <span class="p">=</span> <span class="n">a</span><span class="p">.</span><span class="n">GetType</span><span class="p">();</span>
  <span class="c1">// The object referenced by &quot;a&quot; may be eligible for GC here</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="p">==</span> <span class="n">b</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;match!&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;no match...&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>The object referenced by “a” may be garbage collected as noted by the comments in this method (if it is not referenced elsewhere, of course). This is because the method’s root table would declare that this method uses the “a” variable just for the code doing the “a.GetType()”.</p>

<h2 id="when-the-jit-compiler-behaves-differently-debug">When the JIT Compiler Behaves Differently (Debug)</h2>

<p>There are two situations where the JIT compiler will <em>artificially extend</em> the lifetime of local variables to the end of the method. The first is when the code is <strong>compiled without optimizations and running under the debugger</strong>. The second is when the code is <strong>compiled with full debug information</strong>.</p>

<p>If either of these situations is detected, the JIT compiler will change how it builds the root table so that in our example above, the object referenced by “a” cannot be eligible for garbage collection at least until the method returns.</p>

<p>By default, VS includes full debug information in “Debug” configuration builds but only includes pdb debug information in “Release” configuration builds. This means that the garbage collector does work differently when running “Debug” configuration code, even when run outside the debugger.</p>

<h2 id="when-the-jit-compiler-behaves-differently-release">When the JIT Compiler Behaves Differently (Release)</h2>

<p>An interesting behavior of the JIT compiler is that when optimizations are enabled (by default in “Release” configurations), one of the optimizations it performs is <em>removing code that sets a local variable to null</em>.</p>

<p>It is rather ironic that some people religiously scatter “a = null;” throughout their methods, only to have them completely removed by the runtime.</p>

<p>By this point, it should be obvious that setting local variables to null (with the goal of helping the GC) is not beneficial. This practice only complicates the code and provides no help to the GC since it is removed anyway.</p>

<h2 id="other-clrs-and-jit-compilers">Other CLRs and JIT Compilers</h2>

<p>The above description of JIT compiler behavior is only applicable to the current Microsoft implementation. <a href="http://www.mono-project.com/Compacting_GC">Mono</a>, in particular, does <em>not</em> build a root table when JIT-compiling a method (it treats all local variables as referenced until the end of the method).</p>

<p>Because of this different implementation, it may be useful to set local variables to null if the code will be running on Mono.</p>

<h2 id="static-fields">Static Fields</h2>

<p>Static fields are always root objects, so they are always considered “alive” by the garbage collector. If a static field references an object that is no longer needed, it <em>should</em> be set to null so that the garbage collector will treat it as eligible for collection.</p>

<p>Setting static fields to null is meaningless if the entire process is shutting down. The entire heap is about to be garbage collected at that point, including all the root objects.</p>

<h2 id="instance-fields">Instance Fields</h2>

<p>An instance field is how one object references another object. The garbage collector uses instance fields to build its graph of objects that are referenced (and thus uneligible for garbage collection).</p>

<p>Usually, when one object becomes eligible for garbage collection, it simultaneously makes all of its owned objects eligible for garbage collection as well. This happens perfectly naturally, without the need to set any instance fields to null.</p>

<p>Setting instance fields to null does not help the garbage collector in this case, since it marks the <em>referenced</em> objects. The fact that one unreferenced object no longer references another unreferenced object has absolutely no bearing on how the GC builds its graph.</p>

<p>However, there is one case where setting an instance field to null <em>would</em> help the garbage collector: if the owned (child) object is no longer necessary but the owning (parent) object will still be referenced for some time. In this case, setting the parent object’s instance field to null would make the child object eligible for garbage collection. Note that this is a rare situation.</p>

<p>In particular, setting instance fields to null in an IDisposable.Dispose implementation is unnecessary. The parent object is being disposed; it cannot expect to be referenced much longer, and so it will not significantly outlive its child object(s).</p>

<h2 id="conclusion">Conclusion</h2>

<p>Static fields; that’s about it. Anything else is a waste of time.</p>


  </article>
    
    <footer>
        
            <ul class="pager">
                <li class="previous"><a href="/2009/08/q-if-dispose-calls-suppressfinalize-is.html" title="Q&amp;A: If Dispose calls SuppressFinalize, is KeepAlive required?">&larr; Previous in IDisposable and Finalizers</a></li>
                <li class="next"><a href="/2009/08/finalizers-at-process-exit.html" title="Finalizers at Process Exit">Next in IDisposable and Finalizers &rarr;</a></li>
            </ul>
        
        
        <ul class="pager">
            <li class="previous"><a href="/2010/02/interop-multidimensional-arrays-of.html" title="Interop: Multidimensional Arrays of Characters in a Structure">&larr; Previous Post</a></li>
            <li class="next"><a href="/2010/02/crazy-saturday.html" title="Crazy Saturday">Next Post &rarr;</a></li>
        </ul>

        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
</div>
        </div>
        <div class="col-sm-2 col-md-3 col-md-offset-0 col-lg-2 col-lg-offset-1 affix" data-spy="affix" role="navigation">
            
                <div class="panel panel-primary">
                    <div class="panel-heading">IDisposable and Finalizers</div>
                    <div class="panel-body sidenav">
                        <ul class="nav nav-pills nav-stacked">
                                                <li class="sidenavitem"><a href="/2009/08/how-to-implement-idisposable-and.html">Three Rules</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/first-rule-of-implementing-idisposable.html">Rule 1: Don't</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/second-rule-of-implementing-idisposable.html">Rule 2: Managed Resources</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/third-rule-of-implementing-idisposable.html">Rule 3: Unmanaged Resource</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/q-can-gcsuppressfinalizethis-be-called.html">Q&A: When to Call SuppressFinalize?</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/q-is-call-to-gckeepalivethis-required.html">Q&A: Is KeepAlive Required in Dispose?</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/q-if-dispose-calls-suppressfinalize-is.html">Q&A: Is KeepAlive Required with SuppressFinalize?</a></li>
                                                <li class="active sidenavitem"><a href="/2010/02/q-should-i-set-variables-to-null-to.html">Q&A: Seting Variables to Null</a></li>
                                                <li class="sidenavitem"><a href="/2009/08/finalizers-at-process-exit.html">Finalizers During Shutdown</a></li>
                        </ul>
                    </div>
                </div>
            
        </div>
        <div class="col-sm-2 sidebar">
            <div class="panel panel-default">
                <div class="panel-heading">About Stephen Cleary</div>
                <div class="panel-body">
                    <div class="center"><img src="http://stephencleary.com/www.assets/Me-large.jpg"/></div>
                    <div class="center vertical-margins">Stephen Cleary is a <a href="http://www.landmarkbaptist.ws/salvation">Christian</a>, <a href="http://picasaweb.google.com/stephenandmandy">husband, father,</a> and programmer living in Northern Michigan.</div>
                    <div class="center"><a href="http://mvp.microsoft.com/en-us/mvp/Stephen%20Cleary-5000058"><img class="mvp-logo" src="http://stephencleary.com/www.assets/MVP.png"/></a></div>
                </div>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">My book</div>
                <div class="panel-body center">
                    <div><a href="http://stephencleary.com/book/"><img src="http://stephencleary.com/www.assets/Book-small.jpg"/></a></div>
                    <div>Available from <a href="http://tinyurl.com/ConcurrencyCookbook">O'Reilly</a> or <a href="http://tinyurl.com/ConcurrencyCookbookAmazon">Amazon</a>.</div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Advertisement</div>
                <div class="panel-body">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2749292939902134" data-ad-slot="7584809820" data-ad-format="auto"></ins>
                </div>
            </div>
            
            <div class="panel panel-primary">
                <div class="panel-heading">Popular Posts</div>
                <div class="panel-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="/2012/02/async-and-await.html">Async/await Intro</a></li>
                        <li><a href="/2013/11/there-is-no-thread.html">There Is No Thread</a></li>
                        <li><a href="/2012/07/dont-block-on-async-code.html">Don't Block on Async Code</a></li>
                    </ul>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">Series</div>
                <div class="panel-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="/2014/04/a-tour-of-task-part-0-overview.html">A Tour of Task</a></li>
                        <li><a href="/2013/10/taskrun-etiquette-and-proper-usage.html">Task.Run Etiquette</a></li>
                        <li><a href="/2013/05/taskrun-vs-backgroundworker-intro.html">Task.Run vs. BackgroundWorker</a></li>
                        <li><a href="/2013/01/async-oop-0-introduction.html">Async OOP</a></li>
                        <li><a href="/2009/04/tcpip-net-sockets-faq.html">TCP/IP .NET Sockets FAQ</a></li>
                        <li><a href="/2013/10/managed-services-roundup.html">Managed Services</a></li>
                        <li><a href="/2009/08/how-to-implement-idisposable-and.html">IDisposable and Finalizers</a></li>
                        <li><a href="/2011/02/option-parsing-introduction.html">Option Parsing</a></li>
                    </ul>
                </div>
            </div>
            
        </div>
    </div>

    <div class="google">
        <gcse:searchresults></gcse:searchresults>
    </div>
    
    <!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script src="/lib/jquery-2.1.1.min.js"><\/script>')</script>

<!-- Bootstrap -->
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript">window.jQuery.fn.modal || document.write('<script src="/lib/bootstrap.min.js"><\/script>')</script>
<script type="text/javascript">
    (function($) {
        $(function() {
            if ($('body').css('color') !== 'rgb(102, 102, 102)') {
                $('head').prepend('<link rel="stylesheet" href="/lib/bootstrap.min.css" />');
            }
        });
    })(window.jQuery);
</script>

<!-- Font Awesome -->
<span id="facheck" class="fa" style="display:none"></span>
<script type="text/javascript">
    (function($) {
        $(function() {
            if ($('#facheck').css('fontFamily') !== 'FontAwesome') {
                $('head').prepend('<link rel="stylesheet" href="/lib/font-awesome.min.css" />');
            }
        });
    })(window.jQuery);
</script>

<!-- Scroll the sidebar into view (if necessary) -->

<script src="/lib/jquery.scrollTo.min.js"></script>
<script type="text/javascript">
    (function ($) {
        $(function () {
            var container = $('.affix').filter(function() { return $(this).css('position') == 'fixed'; });
            var target = container.find('.active');
            container.scrollTo(target, { offset: - (container.height() / 2 - target.height() / 2) });
        });
    })(window.jQuery);
</script>


<!-- Google analytics -->
<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-8910661-5', 'stephencleary.com');
    ga('send', 'pageview');
</script>







<!-- Disqus variables -->
<script type="text/javascript">
    var disqus_shortname = 'stephencleary';
    var disqus_identifier = "/2010/02/q-should-i-set-variables-to-null-to";
    var disqus_title = "Q&amp;A: Should I Set Variables to Null to Assist Garbage Collection?";
    var disqus_url = "http://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html";
</script>

<!-- Disqus comment counter -->
<script type="text/javascript">
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
    }());
</script>

<!-- Disqus comment section -->
<script type="text/javascript">
    (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>



<!-- Google AdSense -->
<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Moment -->
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.6.0/moment.min.js"></script>
<script type="text/javascript">window.moment || document.write('<script src="/lib/moment.min.js"><\/script>')</script>
<script type="text/javascript">
    (function($) {
        $(function() {
            $('time').each(function (_, e) {
                var text = moment($(e).attr('datetime'), 'YYYY-MM-DD').fromNow();
                $(e).text(function(_, oldText) { return text + ' (' + oldText + ')'; });
            });
        });
    })(window.jQuery);
</script>




</body>
</html>